(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{4229:function(e,t,s){Promise.resolve().then(s.bind(s,2590))},2590:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var a=s(7437),n=s(2265),r=s(8472),o=s(4625),i=s.n(o);function l(){let[e,t]=(0,n.useState)([]),[s,o]=(0,n.useState)(""),[l,u]=(0,n.useState)(""),[c,m]=(0,n.useState)(!1),[d,_]=(0,n.useState)(!1),b=(0,n.useRef)(null),h=async e=>{if(e.preventDefault(),l.trim()){m(!0);try{let e=await r.Z.post("http://127.0.0.1:8000/analyze_propaganda",{article_text:l});if(200===e.status){let s=e.data;t(e=>[...e,{sender:"bot",message:s.bot_message}]),_(!0)}else t(e=>[...e,{sender:"bot",message:"Error: Failed to analyze the article."}])}catch(e){t(e=>[...e,{sender:"bot",message:"Error: Unable to communicate with the server."}])}finally{m(!1)}}},g=async e=>{if(e.preventDefault(),s.trim()&&d){m(!0);try{let e=await r.Z.post("http://127.0.0.1:8000/continue_conversation",{user_input:s});if(200===e.status){let a=e.data.bot_message;t(e=>[...e,{sender:"user",message:s},{sender:"bot",message:a}])}else t(e=>[...e,{sender:"bot",message:"Error: Failed to process your message."}])}catch(e){t(e=>[...e,{sender:"bot",message:"Error: Unable to communicate with the server."}])}finally{m(!1),o("")}}};return(0,n.useEffect)(()=>{b.current&&(b.current.scrollTop=b.current.scrollHeight)},[e]),(0,a.jsxs)("div",{className:i().container,children:[(0,a.jsx)("h1",{className:i().header,children:"Apollolytics Dialogue"}),!d&&(0,a.jsxs)("form",{onSubmit:h,className:i().inputForm,children:[(0,a.jsx)("textarea",{placeholder:"Submit your article for propaganda detection...",value:l,onChange:e=>u(e.target.value),className:i().inputField}),(0,a.jsx)("button",{type:"submit",className:i().sendButton,disabled:c,children:c?"Analyzing...":"Submit Article"})]}),(0,a.jsx)("div",{ref:b,className:i().chatWindow,children:e.map((e,t)=>(0,a.jsx)("div",{className:"".concat(i().messageBubble," ").concat("user"===e.sender?i().userMessage:i().botMessage),children:(0,a.jsx)("span",{children:e.message})},t))}),d&&(0,a.jsxs)("form",{onSubmit:g,className:i().inputForm,children:[(0,a.jsx)("input",{type:"text",placeholder:"Continue the conversation...",value:s,onChange:e=>o(e.target.value),className:i().inputField}),(0,a.jsx)("button",{type:"submit",className:i().sendButton,disabled:c,children:c?"Sending...":"Send"})]})]})}},4625:function(e){e.exports={container:"Home_container__P8LeA",header:"Home_header__wW9db",toggleContainer:"Home_toggleContainer__bocSx",chatWindow:"Home_chatWindow__hcXIv",messageBubble:"Home_messageBubble__b6HU9",fadeIn:"Home_fadeIn__BbLOf",userMessage:"Home_userMessage__3cCA7",botMessage:"Home_botMessage__omxff",inputForm:"Home_inputForm__HsXvI",inputField:"Home_inputField__jGufO",sendButton:"Home_sendButton__qZFNs"}}},function(e){e.O(0,[721,472,971,23,744],function(){return e(e.s=4229)}),_N_E=e.O()}]);